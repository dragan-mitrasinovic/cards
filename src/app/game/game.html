<div class="block min-h-screen p-4">
  <header class="flex justify-between items-center pb-4 border-b border-gray-200 mb-8">
    <h1 class="m-0 text-2xl font-bold">Game</h1>
    <div class="flex items-center gap-3">
      <span class="font-mono bg-gray-100 px-3 py-1 rounded text-sm">Room: {{ gameId() }}</span>
      <span
        class="inline-block w-3 h-3 rounded-full"
        [class.bg-green-500]="ws.status() === 'connected'"
        [class.bg-yellow-400]="ws.status() === 'connecting'"
        [class.bg-red-500]="ws.status() === 'disconnected'"
        [title]="ws.status()"
      ></span>
    </div>
  </header>

  <div class="flex justify-center items-center min-h-[300px] border-2 border-dashed border-gray-300 rounded-lg text-gray-400 text-lg">
    <p>Waiting for opponent to join…</p>
  </div>

  <!-- Temporary debug panel -->
  <div class="mt-8 p-4 bg-gray-50 rounded-lg border border-gray-200">
    <h3 class="text-sm font-semibold text-gray-500 mb-3">WebSocket Debug</h3>
    <div class="flex gap-2 mb-3">
      <input
        type="text"
        [(ngModel)]="debugInput"
        placeholder="Send a message…"
        (keydown.enter)="sendDebugMessage()"
        class="flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:border-blue-500"
      />
      <button
        (click)="sendDebugMessage()"
        [disabled]="!debugInput.trim()"
        class="px-4 py-1.5 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50"
      >Send</button>
    </div>
    @if (debugMessages.length) {
      <ul class="space-y-1 font-mono text-xs text-gray-600">
        @for (msg of debugMessages; track $index) {
          <li class="bg-white px-2 py-1 rounded border border-gray-100">← {{ msg | json }}</li>
        }
      </ul>
    } @else {
      <p class="text-xs text-gray-400">No messages yet</p>
    }
  </div>
</div>
